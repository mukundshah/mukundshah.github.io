<!DOCTYPE html>
<html lang="{{ $.Site.LanguageCode | default "en" }}">

<head>
    <meta charset="utf-8" /> 
    
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
 
    {{/* NOTE: the Site's title, and if there is a page title, that is set too */}}
    <title>
    {{ if .Params.meta_title }}
    {{.Params.meta_title}}
    {{else}}
    {{ block "title" . }}{{ with .Params.Title }}{{ . }} | {{ end }}{{ .Site.Title }}{{ end }}
    {{end}}
    </title>
    <meta name="description"
        content="{{ with .Description }}{{ . }}{{ else }}{{if .IsPage}}{{ .Summary }}{{ else }}{{ with .Site.Params.description }}{{ . }}{{ end }}{{ end }}{{ end }}">
    {{ hugo.Generator }}
    {{/* NOTE: For Production make sure you add `HUGO_ENV="production"` before your build command */}}
    {{ if eq (getenv "HUGO_ENV") "production" | or (eq .Site.Params.env "production")  }}
    <meta name="robots" content="index,follow" /> 
    <meta name="googlebot" content="index,follow" />
    {{ else }}
    <meta name="robots" content="noindex,nofollow" /> 
    <meta name="googlebot" content="noindex,nofollow" />
    {{ end }}

    {{ partial "meta.html" . }}
    {{ partial "site-style.html" . }}

    {{ block "favicon" . }}
    {{ partialCached "site-favicon.html" . }}
    {{ end }}

    {{ if .OutputFormats.Get "RSS" }}
    {{ with .OutputFormats.Get "RSS" }}
    <link href="{{ .RelPermalink }}" rel="alternate" type="application/rss+xml" title="{{ $.Site.Title }}" />
    <link href="{{ .RelPermalink }}" rel="feed" type="application/rss+xml" title="{{ $.Site.Title }}" />
    {{ end }}
    {{ end }}

</head>

<body class="flex flex-col p-4 md:px-10 
    {{ $.Param "body_classes"  | default "avenir bg-near-white"}}{{ with getenv "HUGO_ENV" }} {{ . }}{{ end }}">

    {{ block "header" . }}{{ partial "site-header.html" .}}{{ end }}
    <main class="mx-4 my-12 main raleway md:mt-20" role="main">
        {{ block "main" . }}{{ end }}
    </main>
    {{ block "footer" . }}{{ partialCached "site-footer.html" . }}{{ end }}
</body>

</html>